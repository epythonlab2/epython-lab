<!-- Sidebar -->
<aside
  id="sidebar"
  class="fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] bg-gray-200 dark:bg-gray-900 p-4 shadow-inner transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out overflow-y-auto z-40"
  style="scrollbar-width: thin;"
>
  <!-- Close Button for Mobile with Icon -->
  <button
    id="closeSidebarBtn"
    class="lg:hidden absolute top-0 right-0 text-gray-800 dark:text-gray-200 hover:text-gray-600 dark:hover:text-white rounded-full p-4"
    aria-label="Close Sidebar"
  >
    <!-- Close Icon (X) -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M6 18L18 6M6 6l12 12"
      />
    </svg>
  </button>

  <h2 class="text-2xl font-bold mb-3 text-gray-800 dark:text-gray-100 tracking-wide">
    Python Tutorial
  </h2>

  <!-- Dynamic Topic List -->
  <ul id="sidebar-topic-list" class="space-y-2 pl-4 text-gray-700 dark:text-gray-300">
    <li class="text-sm text-gray-500">Loading topics...</li>
  </ul>
</aside>

<!-- Overlay for mobile/tablet -->
<div
  id="sidebar-overlay"
  class="hidden fixed inset-0 bg-black bg-opacity-30 z-30 lg:hidden"
></div>

<script type="module">
  import * as sidebar from "{{ url_for('static', filename='api/sidebar.js') }}";
  window.sidebar = sidebar;

  // Close sidebar when close button is clicked
  const closeSidebarBtn = document.getElementById("closeSidebarBtn");
  closeSidebarBtn.addEventListener("click", () => {
    window.sidebar.closeSidebar();  // Close sidebar when close button is clicked
  });
</script>
