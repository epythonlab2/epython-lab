{% extends "/frontend/base.html" %}
{% block title %}{{subtopic_slug}}{% endblock %}

{% block content %}

<!-- Ad Placeholder Top -->
<section class="mt-12">
  <div class="bg-gray-50 dark:bg-gray-800 border border-dashed border-gray-300 dark:border-gray-600 p-6 rounded-xl text-center">
    <p class="text-gray-400 dark:text-gray-500">[Ad Placeholder]</p>
  </div>
</section>

<!-- Progress Bar Section
<section class="mt-4 pl-3">
  <div class="w-full bg-gray-200 rounded-full h-4 mb-4">
    <div id="progress-bar" class="bg-green-600 h-4 rounded-full" style="width: 0%;"></div>
  </div>
  <p id="progress-text" class="text-sm text-gray-600 mb-6">Progress: 0%</p>
</section> -->

<!-- Tutorial Content -->
<section class="mt-4">
  <div
  class="bg-gray-50 bg-gradient-to-b from-white to-gray-100 dark:from-gray-900 dark:to-gray-800 p-3 text-gray-900 dark:text-gray-100"
>
  <h1 id="tutorial-title" class="text-4xl font-bold mb-4"></h1>

  <div id="tutorial-content" class="prose dark:prose-invert">
    <div
      class="dynamic-code quill-content"
      id="dynamic-code-0"
      contenteditable="false"
      aria-live="polite"
      aria-busy="true"
    >
      Loading...
    </div>
  </div>
    
    <hr class="border-t border-gray-300 dark:border-gray-700 mt-8 mb-6" />
    
    <!-- Navigation -->
    <div class="mt-6 flex justify-end">
      <a id="next-subtopic-link" href="#" class="inline-block bg-green-600 text-white px-6 py-3 font-semibold shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 rounded transition">
        Continue â†’
      </a>
    </div>
  </div>
</section>

<!-- Ad Placeholder Bottom -->
<section class="mt-12">
  <div class="bg-gray-50 dark:bg-gray-800 border border-dashed border-gray-300 dark:border-gray-600 p-6 rounded-xl text-center">
    <p class="text-gray-400 dark:text-gray-500">[Ad Placeholder]</p>
  </div>
</section>


<!-- Insert Flask variables for use in JS -->
<script>
  window.FLASK_DATA = {
    topicSlug: "{{ topic_slug }}",
    subtopicSlug: "{{ subtopic_slug }}"
  };
</script>

<!-- Load your module script -->
<script type="module" src="{{ url_for('static', filename='api/tutorial.js') }}"></script>

<!-- Video Embed Scripts -->
<script src="{{ url_for('static', filename='js/video-embed.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/video-embedInit.js') }}" defer></script>
{% endblock %}