
  <!-- Header -->
  <header class="fixed top-0 inset-x-0 z-50 bg-white dark:bg-gray-900 shadow border-b border-gray-200 dark:border-gray-700">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16 relative">
        <!-- Logo -->
        <a href="/" class="flex items-center space-x-2">
          <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="grad1" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#00C896"/>
                <stop offset="100%" stop-color="#00FFA3"/>
              </linearGradient>
              <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#00FFA3" flood-opacity="0.4"/>
              </filter>
            </defs>
            <g filter="url(#shadow)">
              <path d="M20 10 C40 10, 40 50, 20 50 C0 50, 0 30, 20 30 C40 30, 40 10, 20 10 Z M20 20 C30 20, 30 40, 20 40 C10 40, 10 30, 20 30 Z" fill="url(#grad1)"/>
              <path d="M5 15 Q3 25 5 35" stroke="#00C896" stroke-width="3" fill="none"/>
              <path d="M35 15 Q37 25 35 35" stroke="#00C896" stroke-width="3" fill="none"/>
            </g>
          </svg>
        </a>

         <!-- Desktop Navigation -->
         <div class="hidden md:flex items-center space-x-4">
            <div class="relative">
                <!-- Search Icon -->
                <div class="absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300 pointer-events-none">
                  <svg
                    class="h-5 w-5 mt-1"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-1.35z"/>
                  </svg>
                </div>
              
                <!-- Search Input -->
                <input
                  id="searchInput"
                  type="text"
                  placeholder="Search..."
                  autocomplete="off"
                  class="mt-1 focus:w-[28rem] pl-10 px-2 py-1 rounded bg-gray-100 dark:bg-gray-800 text-black dark:text-white shadow-inner focus:outline-none focus:ring-2 focus:ring-green-300 transition-width focus:w-96"
                >
              
                <!-- Results Dropdown -->
                <ul
                  id="desktopResultsDropdown"
                  class="absolute top-full w-[28rem] right-0 bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-200 dark:border-gray-700 rounded shadow mt-1 hidden z-50 max-h-60 overflow-y-auto"
                >
                  <!-- JavaScript will populate this -->
                </ul>
              </div>
              
          <!-- Right Section -->
        
          <a href="#quiz-preview" class="text-sm bg-green-600 text-white px-4 py-1 rounded shadow hover:bg-green-700">Quizzes</a>
          <button onclick="toggleDarkMode()" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-2 py-1 rounded shadow hover:opacity-80">
            <span id="darkModeIconDesktop">ðŸŒ™</span>
          </button>
          <a href="/signin" class="text-sm bg-blue-600 text-white px-4 py-1 rounded shadow hover:bg-blue-700">Sign In</a>
      
      </div>
      <!-- Mobile Header Buttons -->
      <div class="flex md:hidden items-center space-x-2">
        <!-- Mobile Search Icon -->
        <button onclick="toggleMobileSearch()" class="p-2 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 rounded">
            <svg
                class="h-5 w-5"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
            >
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-1.35z"/>
            </svg>
        </button>
            <!-- Quizzes Button -->
            <a href="#quiz-preview" class="bg-green-600 text-white px-3 py-1 rounded shadow text-sm hover:bg-green-700">Quiz</a>
            <!-- Dark Mode Toggle -->
            <button onclick="toggleDarkMode()" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-2 py-1 rounded shadow hover:opacity-80">
                ðŸŒ™
            </button>
            <!-- Sign In Button -->
            <a href="/signin" class="bg-blue-600 text-white px-3 py-1 rounded shadow text-sm hover:bg-blue-700">Sign In</a>
        </div>
        <!-- Mobile Search Overlay -->
        <div id="mobileSearchOverlay" class="hidden absolute top-0 left-0 w-full z-40 bg-white dark:bg-gray-900 p-3 border-b border-gray-300 dark:border-gray-700">
            <div class="flex items-center space-x-2">
                <input id="mobileSearchInput" type="text" placeholder="Search..." class="flex-1 px-3 py-2 rounded bg-gray-100 dark:bg-gray-800 text-black dark:text-white shadow-inner focus:outline-none focus:ring-2 focus:ring-green-400">
                <button onclick="toggleMobileSearch()" class="p-2 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 rounded">âœ–</button>
                <!-- Results dropdown -->
                 <ul id="mobileResultsDropdown" class="absolute top-full left-0 right-0 bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-200 dark:border-gray-700 rounded shadow mt-1 hidden z-50 max-h-60 overflow-y-auto">
                <!-- JavaScript will populate this -->
              </ul>
            </div>
        </div>
    </div>
    </div>
  </header>

  <script>
   // Desktop search elements
    const desktopSearchInput = document.getElementById("searchInput");
    const desktopResultsDropdown = document.getElementById("desktopResultsDropdown");

    // Mobile search elements
    const mobileSearchInput = document.querySelector("#mobileSearchOverlay input[type='text']");
    const mobileResultsDropdown = document.getElementById("mobileResultsDropdown");

    // Sample search data
    const data = [
    "Learn Python from scratch",
    "Advanced Flask web development",
    "JavaScript DOM manipulation",
    "Data science with Pandas and NumPy",
    "Deploy ML models using FastAPI",
    "Introduction to TypeScript",
    "Python String Functions Explained",
    "Web scraping with BeautifulSoup"
    ];

    // Function to highlight matches
    function highlightMatch(text, query) {
    const safeQuery = query.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    const regex = new RegExp(`(${safeQuery})`, "gi");
    return text.replace(regex, '<mark class="custom-highlight">$1</mark>');
    }

    // Handle input for desktop search
    desktopSearchInput.addEventListener("input", function () {
    const query = this.value.toLowerCase().trim();
    desktopResultsDropdown.innerHTML = "";
    if (!query) {
        desktopResultsDropdown.classList.add("hidden");
        return;
    }

    const matches = data.filter(item =>
        item.toLowerCase().includes(query)
    );

    if (matches.length === 0) {
        desktopResultsDropdown.classList.add("hidden");
        return;
    }

    matches.forEach(match => {
        const li = document.createElement("li");
        li.className = "px-4 py-2 hover:bg-green-100 dark:hover:bg-green-900 cursor-pointer transition";
        li.innerHTML = highlightMatch(match, query);
        li.onclick = () => {
        desktopSearchInput.value = match;
        desktopResultsDropdown.classList.add("hidden");
        };
        desktopResultsDropdown.appendChild(li);
    });

    desktopResultsDropdown.classList.remove("hidden");
    });

    // Handle input for mobile search
    if (mobileSearchInput && mobileResultsDropdown) {
    mobileSearchInput.addEventListener("input", function () {
        const query = this.value.toLowerCase().trim();
        mobileResultsDropdown.innerHTML = "";
        if (!query) {
        mobileResultsDropdown.classList.add("hidden");
        return;
        }

        const matches = data.filter(item =>
        item.toLowerCase().includes(query)
        );

        if (matches.length === 0) {
        mobileResultsDropdown.classList.add("hidden");
        return;
        }

        matches.forEach(match => {
        const li = document.createElement("li");
        li.className = "px-4 py-2 hover:bg-green-100 dark:hover:bg-green-900 cursor-pointer transition";
        li.innerHTML = highlightMatch(match, query);
        li.onclick = () => {
            mobileSearchInput.value = match;
            mobileResultsDropdown.classList.add("hidden");
        };
        mobileResultsDropdown.appendChild(li);
        });

        mobileResultsDropdown.classList.remove("hidden");
    });
    }

    // Close dropdowns if clicked outside (desktop)
    document.addEventListener("click", function (e) {
    if (!desktopSearchInput.contains(e.target) && !desktopResultsDropdown.contains(e.target)) {
        desktopResultsDropdown.classList.add("hidden");
    }
    });

    // Close dropdowns if clicked outside (mobile)
    document.addEventListener("click", function (e) {
    if (mobileSearchInput && mobileResultsDropdown) {
        if (!mobileSearchInput.contains(e.target) && !mobileResultsDropdown.contains(e.target)) {
        mobileResultsDropdown.classList.add("hidden");
        }
    }
    });

    // Toggle dark mode
    function toggleDarkMode() {
    document.documentElement.classList.toggle("dark");
    }

    // Toggle mobile search overlay
    function toggleMobileSearch() {
    const overlay = document.getElementById("mobileSearchOverlay");
    overlay.classList.toggle("hidden");
    }

</script>
